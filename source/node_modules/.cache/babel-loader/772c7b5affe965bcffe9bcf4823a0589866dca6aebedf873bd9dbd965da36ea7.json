{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'ProductForm',\n  data() {\n    return {\n      errors: {\n        name: '',\n        price: '',\n        description: ''\n      },\n      product: {\n        name: '',\n        price: '',\n        description: ''\n      }\n    };\n  },\n  methods: {\n    validate() {\n      this.errors = {\n        name: '',\n        price: '',\n        description: ''\n      };\n      if (!this.product.name) {\n        this.errors.name = \"Product name is required\";\n      }\n      if (!this.product.price) {\n        this.errors.price = \"Product price number is required\";\n      } else if (!this.isNumber(this.product.price)) {\n        this.errors.price = 'Product price must be number';\n      }\n      if (!this.product.description) {\n        this.errors.description = \"Product description name is required\";\n      }\n    },\n    // Kiểm tra chỉ cho nhập số, ko cho nhập ký tự khác ngoài số\n    isNumber(value) {\n      return /^\\d*$/.test(value);\n    },\n    save() {\n      if (this.validate()) {\n        this.$request.post('http://localhost:8000/api/products', this.product).then(res => {\n          if (!res.data.success) {\n            this.$router.push({\n              name: 'product.list'\n            });\n            return;\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AA2CA,eAAe;EACbA,IAAI,EAAE,aAAa;EACnBC,IAAI,GAAG;IACL,OAAO;MACHC,MAAM,EAAE;QACJF,IAAI,EAAE,EAAE;QACRG,KAAK,EAAE,EAAE;QACTC,WAAW,EAAC;MAChB,CAAC;MACDC,OAAO,EAAE;QACLL,IAAI,EAAE,EAAE;QACRG,KAAK,EAAE,EAAE;QACTC,WAAW,EAAC;MAChB;IACJ;EACF,CAAC;EACDE,OAAO,EAAE;IACPC,QAAO,GAAK;MACR,IAAI,CAACL,MAAK,GAAI;QACVF,IAAI,EAAE,EAAE;QACRG,KAAK,EAAE,EAAE;QACTC,WAAW,EAAC;MAChB;MACA,IAAI,CAAC,IAAI,CAACC,OAAO,CAACL,IAAI,EAAE;QACpB,IAAI,CAACE,MAAM,CAACF,IAAG,GAAI,0BAAyB;MAChD;MACA,IAAI,CAAC,IAAI,CAACK,OAAO,CAACF,KAAK,EAAE;QACrB,IAAI,CAACD,MAAM,CAACC,KAAI,GAAI,kCAAiC;MACzD,CAAC,MAAK,IAAI,CAAC,IAAI,CAACK,QAAQ,CAAC,IAAI,CAACH,OAAO,CAACF,KAAK,CAAC,EAAC;QACzC,IAAI,CAACD,MAAM,CAACC,KAAI,GAAI,8BAA6B;MACrD;MACA,IAAI,CAAC,IAAI,CAACE,OAAO,CAACD,WAAW,EAAE;QAC3B,IAAI,CAACF,MAAM,CAACE,WAAU,GAAI,sCAAqC;MACnE;IAEJ,CAAC;IAED;IACAI,QAAO,CAAGC,KAAK,EAAE;MACb,OAAO,OAAO,CAACC,IAAI,CAACD,KAAK;IAC7B,CAAC;IAEDE,IAAI,GAAG;MACH,IAAI,IAAI,CAACJ,QAAQ,EAAE,EAAE;QACjB,IAAI,CAACK,QAAQ,CAACC,IAAI,CAAC,oCAAoC,EAAE,IAAI,CAACR,OAAO,CAAC,CAACS,IAAI,CAACC,GAAE,IAAK;UAC/E,IAAI,CAACA,GAAG,CAACd,IAAI,CAACe,OAAO,EAAE;YACnB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;cAAElB,IAAI,EAAE;YAAc,CAAC;YACzC;UACJ;QACJ,CAAC;MACL;IACJ;EACF;AACF","names":["name","data","errors","price","description","product","methods","validate","isNumber","value","test","save","$request","post","then","res","success","$router","push"],"sourceRoot":"","sources":["D:\\vue-project\\source\\src\\views\\products\\Form.vue"],"sourcesContent":["<template>\r\n    <div class=\"b-form\">\r\n        <div class=\"pricing-header px-3 py-3 pt-md-5 pd-md-4 mx-auto text-center\">\r\n            <h3 class=\"display-5\">Products Infomation </h3>\r\n            <router-link to=\"/product\">Back </router-link>\r\n        </div>\r\n        <div class=\"container\">\r\n            <form @submit.prevent=\"save()\">\r\n                <div class=\"form-group row mb-3\">\r\n                    <label class=\"col-sm-3 col-form-label\">Product name</label>\r\n                    <div class=\"col-sm-9\">\r\n                        <input type=\"text\" v-model=\"product.name\" @blur=\"validate()\" class=\"form-control\" v-bind:class=\"{'is-invalid': errors.name}\" />\r\n                        <div class=\"invalid-feedback text-start\" v-if=\"errors.name\">{{ errors.name }}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row mb-3\">\r\n                    <label class=\"col-sm-3 col-form-label\">Product Price</label>\r\n                    <div class=\"col-sm-9\">\r\n                        <input type=\"text\" v-model=\"product.price\" @blur=\"validate()\"  class=\"form-control\" v-bind:class=\"{'is-invalid': errors.price}\" />\r\n                        <div class=\"invalid-feedback text-start\">{{ errors.price }}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row mb-3\">\r\n                    <label class=\"col-sm-3 col-form-label\">Description</label>\r\n                    <div class=\"col-sm-9\">\r\n                        <textarea type=\"text\"  v-model=\"product.description\" @blur=\"validate()\"  class=\"form-control\"  rows=\"4\" v-bind:class=\"{'is-invalid': errors.description}\" />\r\n                        <div class=\"invalid-feedback text-start\">{{ errors.description }}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row mb-3\">\r\n                    <label class=\"col-sm-3 col-form-label\"></label>\r\n                    <div class=\"col-sm-9 justify-content-start text-start\">\r\n                        <button type=\"submit\" class=\"btn btn-primary\">Save</button> &nbsp;\r\n                        <button type=\"reset\" class=\"btn btn-danger\">Cancel</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script> \r\n\r\nexport default {\r\n  name: 'ProductForm', \r\n  data() {\r\n    return {\r\n        errors: {\r\n            name: '',\r\n            price: '',\r\n            description:'',\r\n        },\r\n        product: {\r\n            name: '',\r\n            price: '',\r\n            description:'',\r\n        }\r\n    }\r\n  },\r\n  methods: {\r\n    validate () {\r\n        this.errors = {\r\n            name: '',\r\n            price: '',\r\n            description:'',\r\n        }\r\n        if (!this.product.name) {\r\n            this.errors.name = \"Product name is required\"\r\n        }\r\n        if (!this.product.price) {\r\n            this.errors.price = \"Product price number is required\"\r\n        }else if (!this.isNumber(this.product.price)){\r\n            this.errors.price = 'Product price must be number'\r\n        }\r\n        if (!this.product.description) {\r\n            this.errors.description = \"Product description name is required\"\r\n        } \r\n        \r\n    },\r\n\r\n    // Kiểm tra chỉ cho nhập số, ko cho nhập ký tự khác ngoài số\r\n    isNumber (value) {\r\n        return /^\\d*$/.test(value)\r\n    },\r\n    \r\n    save() {\r\n        if (this.validate()) {\r\n            this.$request.post('http://localhost:8000/api/products', this.product).then(res => {\r\n                if (!res.data.success) {\r\n                    this.$router.push({ name: 'product.list'})\r\n                    return\r\n                }\r\n            }) \r\n        }\r\n    }\r\n  },\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}